<style>
    .nav-container{
      display: flex;
      align-items: center;
      justify-content: flex-start;
    }
    .nav{
      padding: 0;
      margin-top: 0;
      position: relative;
      display: flex;
    }
    @media screen and (min-width:750px){
      .nav-container{
        justify-content: center;
      }
    }
    .nav li{
      list-style: none;
    }
    .nav-link{
      margin: 0 25px 0 0;
      cursor: pointer;
      border: none;
      background: transparent;
    }
    .tab-pane{
      width: 100%;
      opacity: 0;
      overflow: hidden;
      position: absolute;
      top: 0;
      left: 0;
      transition: 0.2s cubic-bezier(0.2, 0.35, 0.25, 1);
    }
    .tab-pane.active{
      position:relative;
      opacity: 1;
    }
    .tab-content {
      height: 100%;
      position: relative;
      transition: height 0.3s cubic-bezier(0.2, 0.35, 0.25, 1);
    }
    .tabNav_line{
      position: absolute;
      bottom: 0;
      width: 124px;
      height: 2px;
      background-color: rgb(var(--color-badge-background));
      transition: 0.3s cubic-bezier(0.2, 0.35, 0.25, 1);
    }
    .spr-review-reportreview,
    .spr-summary-actions-newreview{
      transition: 0.3s cubic-bezier(0.2, 0.35, 0.25, 1);

    }
    .spr-review-reportreview:hover,
    .spr-summary-actions-newreview:hover{
      color: var(--gradient-base-accent-2);
    }
    .spr-form-input{
      padding: 0.5rem 0.8rem;
    }
    .spr-form-input-email,
    .spr-form-input-name{
      border: 1px solid;
    }

</style>
<div>
  <div class="nav-container">
    <ul class="nav" id="pills-tab" role="tablist">
      <li class="tabNav_line color-accent-2"></li>
      <li class="nav-item" role="presentation">
        <button class="title h3 nav-link active" id="pills-description-tab" data-bs-toggle="pill" type="button" role="tab" aria-controls="pills-description" aria-selected="true">Description</button>
      </li>
      <li class="nav-item" role="presentation">
        <button class="title h3 nav-link" id="pills-reviews-tab" data-bs-toggle="pill" type="button" role="tab" aria-controls="pills-reviews" aria-selected="false">Reviews </button>
      </li>
    </ul>
  </div>
  <div class="tab-content" id="pills-tabContent">
    <div class="tab-pane active" id="pills-description" role="tabpanel" aria-labelledby="pills-description-tab">
      {{ product.metafields.my_fields.additional_description }}
    </div>
    <div class="tab-pane" id="pills-reviews" role="tabpanel" aria-labelledby="pills-reviews-tab">
      {% for block in section.blocks %}
        {%- case block.type -%}
        {%- when '@app' -%}
        {% render block %}
        {% endcase %}
      {% endfor %}
    </div>
  </div>
</div>

<script defer>
  window.addEventListener('resize',()=>{
    updateTabHeight();
  })
  document.querySelectorAll('.nav-link').forEach(item=>{
    item.addEventListener('click', e=>{
      var target = e.target.getAttribute('aria-controls');
      var targetDOM = document.getElementById(target);

      const clearActiveStatus = function () {
        document.querySelectorAll('.tab-pane').forEach(item=>{
        if(item.classList.contains("active")){
          item.classList.remove("active");
        }
        })
      }
      const updateUnderlinePosition = function (target, button) {
        var tab = document.querySelector('.tabNav_line');
        if(target === 'pills-reviews'){
          tab.style.transform = 'translateX(150px)'
          tab.style.width = button.offsetWidth + 'px';
        }else{
          tab.style.transform = 'translateX(0px)';
          tab.style.width = button.offsetWidth + 'px';
        }
        }
      updateUnderlinePosition(target, e.target);
      clearActiveStatus();
      if(! targetDOM.classList.contains('active')){
        targetDOM.classList.add('active');
      }
    })
  })

</script>
{% schema %}
{
    "name": "Description",
    "tag": "section",
    "class": "page-width",
    "blocks":[
        {
            "type": "@app"
        }
    ],
    "presets": [
        {
            "name":"Description"
        }
    ]
}
{% endschema %}