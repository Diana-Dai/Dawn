{{ 'main-categories.css' | asset_url | stylesheet_tag }}

<div class="categories-section page-width">
  {%- for block in section.blocks -%}
  {% case block.type %}
    {% when 'category' %}
      <div class="categories__category categories__category-{{ forloop.index }}">
        <div class="categories__category-left background-image-wrapper">
          <img
          srcset="{%- if block.settings.image.width >= 375 -%}{{ block.settings.image | img_url: '375x' }} 375w,{%- endif -%}
            {%- if block.settings.image.width >= 750 -%}{{ block.settings.image | img_url: '750x' }} 750w,{%- endif -%}
            {{ block.settings.image | img_url: 'master' }} {{ block.settings.image.width }}w"
          src="{{ block.settings.image | img_url: '500x' }}"
          loading="lazy"
          alt="{{ block.settings.image.alt | escape }}"
          width="{{ block.settings.image.width }}"
          height="{{ block.settings.image.width | divided_by: block.settings.image.aspect_ratio }}"
        >
        </div>
        <div class="categories__category-right">
          <h5>0{{ forloop.index }}.{{ block.settings.subtitle }}</h5>
          <div>
            <h2><a class="shop-now-link link link--text focus-inset" href="{{ block.settings.link }}">{{ block.settings.title }}</a></h2>
            <a class="shop-now-link link link--text focus-inset" href="{{ block.settings.link }}">{{ block.settings.text }}
              <i class="shop-now-icon"> {% render 'icon-arrow-3' %}  </i>
            </a> 
          </div>
        </div>
      </div>
    {% when 'about' %}
    <div class="categories__category categories__category-{{ forloop.index }}">
      <div class="categories__category-left">
        <h5>{{ block.settings.discount }}</h5>
        <h2>{{ block.settings.join_us }}</h2>
      </div>
      <div class="categories__category-right">
        <h3>{{ block.settings.title }}</h3>
        <p>{{ block.settings.body }}</p>
        <div>
          <a class="shop-now-link link link--text focus-inset" href="{{ block.settings.link }}">{{ block.settings.text }}
            <i class="shop-now-icon"> {% render 'icon-arrow-3' %}  </i>
          </a> 
        </div>
      </div>
    </div>
  {% endcase %}
  {%- endfor -%}
</div>




{% schema %}
{
    "name": "categories",
    "class": "categories",
    "tag":"section",
    "settings": [
    ],
    "blocks":[
      {
        "type": "category",
        "name":"category",
        "limit": 3,
        "settings": [
          {
            "type": "image_picker",
            "id": "image",
            "label": "Image"
          },
          {
            "type": "text",
            "id": "subtitle",
            "default": "Subtitle",
            "label": "Subtitle"
          },
          {
            "type": "text",
            "id": "title",
            "default": "Title",
            "label": "Title"
          },
          {
            "type": "url",
            "id": "link",
            "label": "Button link"
          },
          {
            "type": "text",
            "id": "text",
            "label": "Button text",
            "default": "Shop the Category"
          }
        ]
      },
      {
        "type": "about",
        "name":"about",
        "limit": 1,
        "settings": [
          {
            "type": "text",
            "id": "discount",
            "label": "Discount info"
          },
          {
            "type": "text",
            "id": "join_us",
            "label": "Join us"
          },
          {
            "type": "text",
            "id": "title",
            "default": "Title",
            "label": "Title"
          },
          {
            "type": "richtext",
            "id": "body",
            "default": "<p>Body</p>",
            "label": "Body"
          },
          {
            "type": "url",
            "id": "link",
            "label": "Button link"
          },
          {
            "type": "text",
            "id": "text",
            "label": "Button text",
            "default": "Shop the Category"
          }
        ]
      }
    ],
    "presets": [
        {
            "name":"Categories",
            "blocks":[
                {
                    "type": "category"
                },
                {
                    "type": "about"
                },
                {
                    "type": "category"
                },
                {
                    "type": "category"
                }
            ]
        }
    ]
}
{% endschema %}
